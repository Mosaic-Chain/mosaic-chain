<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="462px" preserveAspectRatio="none" style="width:1015px;height:462px;background:#003153;" version="1.1" viewBox="0 0 1015 462" width="1015px" zoomAndPan="magnify"><script xmlns=""/><defs/><g><rect fill="#003153" height="462" style="stroke:none;stroke-width:1.0;" width="1015" x="0" y="0"/><rect fill="#003153" height="350.4609" style="stroke:#D9D3D0;stroke-width:1.0;" width="10" x="193.5" y="67.4297"/><rect fill="#003153" height="29.1328" style="stroke:#D9D3D0;stroke-width:1.0;" width="10" x="339.5" y="96.5625"/><rect fill="#003153" height="139.5313" style="stroke:#D9D3D0;stroke-width:1.0;" width="10" x="339.5" y="189.9609"/><rect fill="#003153" height="29.1328" style="stroke:#D9D3D0;stroke-width:1.0;" width="10" x="339.5" y="350.625"/><rect fill="#003153" height="88.3984" style="stroke:#D9D3D0;stroke-width:1.0;" width="452.5" x="507" y="234.0938"/><line style="stroke:#D9D3D0;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="52" x2="52" y1="36.2969" y2="426.8906"/><line style="stroke:#D9D3D0;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="198" x2="198" y1="36.2969" y2="426.8906"/><line style="stroke:#D9D3D0;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="344" x2="344" y1="36.2969" y2="426.8906"/><line style="stroke:#D9D3D0;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="559" x2="559" y1="36.2969" y2="426.8906"/><line style="stroke:#D9D3D0;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="785.5" x2="785.5" y1="36.2969" y2="426.8906"/><line style="stroke:#D9D3D0;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="954" x2="954" y1="36.2969" y2="426.8906"/><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="65" x="20" y="5"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="51" x="27" y="24.9951">System</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="65" x="20" y="425.8906"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="51" x="27" y="445.8857">System</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="69" x="164" y="5"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="55" x="171" y="24.9951">Session</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="69" x="164" y="425.8906"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="55" x="171" y="445.8857">Session</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="129" x="280" y="5"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="115" x="287" y="24.9951">SessionManager</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="129" x="280" y="425.8906"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="115" x="287" y="445.8857">SessionManager</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="65" x="527" y="5"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="51" x="534" y="24.9951">Staking</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="65" x="527" y="425.8906"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="51" x="534" y="445.8857">Staking</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="108" x="731.5" y="5"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="94" x="738.5" y="24.9951">NftDelegation</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="108" x="731.5" y="425.8906"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="94" x="738.5" y="445.8857">NftDelegation</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="109" x="900" y="5"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="95" x="907" y="24.9951">NftPermission</text><rect fill="#003153" height="30.2969" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1.0;" width="109" x="900" y="425.8906"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="95" x="907" y="445.8857">NftPermission</text><rect fill="#003153" height="350.4609" style="stroke:#D9D3D0;stroke-width:1.0;" width="10" x="193.5" y="67.4297"/><rect fill="#003153" height="29.1328" style="stroke:#D9D3D0;stroke-width:1.0;" width="10" x="339.5" y="96.5625"/><rect fill="#003153" height="139.5313" style="stroke:#D9D3D0;stroke-width:1.0;" width="10" x="339.5" y="189.9609"/><rect fill="#003153" height="29.1328" style="stroke:#D9D3D0;stroke-width:1.0;" width="10" x="339.5" y="350.625"/><polygon fill="#D9D3D0" points="181.5,63.4297,191.5,67.4297,181.5,71.4297,185.5,67.4297" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="52.5" x2="187.5" y1="67.4297" y2="67.4297"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="122" x="59.5" y="62.3638">Hooks::on_initialize</text><polygon fill="#D9D3D0" points="327.5,92.5625,337.5,96.5625,327.5,100.5625,331.5,96.5625" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="203.5" x2="333.5" y1="96.5625" y2="96.5625"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="92" x="210.5" y="91.4966">end_session(i)</text><polygon fill="#D9D3D0" points="547.5,121.6953,557.5,125.6953,547.5,129.6953,551.5,125.6953" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="344.5" x2="553.5" y1="125.6953" y2="125.6953"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="186" x="351.5" y="120.6294">SessionHook::session_ended</text><path d="M224,138.6953 L224,163.6953 L554,163.6953 L554,148.6953 L544,138.6953 L224,138.6953 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1.0;"/><path d="M544,138.6953 L544,148.6953 L554,148.6953 L544,138.6953 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1.0;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="309" x="230" y="155.7622">reward calculation, applying slash, state change,</text><polygon fill="#D9D3D0" points="327.5,185.9609,337.5,189.9609,327.5,193.9609,331.5,189.9609" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="203.5" x2="333.5" y1="189.9609" y2="189.9609"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="117" x="210.5" y="184.895">start_session(i+1)</text><polygon fill="#D9D3D0" points="773.5,215.0938,783.5,219.0938,773.5,223.0938,777.5,219.0938" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="349.5" x2="779.5" y1="219.0938" y2="219.0938"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="192" x="356.5" y="214.0278">SessionHook::session_started</text><path d="M507,234.0938 L584,234.0938 L584,241.2266 L574,251.2266 L507,251.2266 L507,234.0938 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1.0;"/><rect fill="none" height="88.3984" style="stroke:#D9D3D0;stroke-width:1.0;" width="452.5" x="507" y="234.0938"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="522" y="247.1606">loop</text><text fill="#D9D3D0" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="127" x="599" y="246.3042">[for expired tokens]</text><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="785.5" x2="827.5" y1="272.3594" y2="272.3594"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="827.5" x2="827.5" y1="272.3594" y2="285.3594"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="786.5" x2="827.5" y1="285.3594" y2="285.3594"/><polygon fill="#D9D3D0" points="796.5,281.3594,786.5,285.3594,796.5,289.3594,792.5,285.3594" style="stroke:#D9D3D0;stroke-width:1.0;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="155" x="792.5" y="267.2935">unbind, BindCache::take</text><polygon fill="#D9D3D0" points="570.5,310.4922,560.5,314.4922,570.5,318.4922,566.5,314.4922" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="564.5" x2="784.5" y1="314.4922" y2="314.4922"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="202" x="576.5" y="309.4263">NftExpirationHandler::on_expire</text><polygon fill="#D9D3D0" points="327.5,346.625,337.5,350.625,327.5,354.625,331.5,350.625" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="203.5" x2="333.5" y1="350.625" y2="350.625"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="112" x="210.5" y="345.5591">new_session(i+2)</text><polygon fill="#D9D3D0" points="547.5,375.7578,557.5,379.7578,547.5,383.7578,551.5,379.7578" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="344.5" x2="553.5" y1="379.7578" y2="379.7578"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="149" x="351.5" y="374.6919">ValidatorSet::validators</text><polygon fill="#D9D3D0" points="942.5,404.8906,952.5,408.8906,942.5,412.8906,946.5,408.8906" style="stroke:#D9D3D0;stroke-width:1.0;"/><line style="stroke:#D9D3D0;stroke-width:1.0;" x1="559.5" x2="948.5" y1="408.8906" y2="408.8906"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="197" x="566.5" y="403.8247">bind, unbind, attribute querries</text><!--SRC=[bP9DJyCm38Rl-HNc1g8Su9W31pwaNK18axXENkEsqJAd9Ex6-FMaNzlGHX6NgcdyllRxr1TIqPfWwHggWsLHIirtKMWDD_SmfnYjPmqpxrTHQyyBorOiElj52dEn6nGQovAoVpcIlY1ZIK43iLd4_jkblJhH3dLxY-7SEGckB9TwB6rdqNhmMYHVCagnJrwE2W5V71I1jXWCvEZong6a-WomhjqktK9q6AiCehHZv1LoIHaeGt-DTYvTCWboo7Tz-w-4huKyaQEoc_2Nd5s7bDHvNqFX0z1dRGCP4ByYZkg7nndJXfUMJGOFwVc8UKLQ9qfqgjl3IpVFRO_kPePiN4hQha3VMINoKxIcS35jZs3T_GvhOXlUqn8Q51_c95flnbES_8EzUC3pHc5jXmNluOoGK2JOPPCSFXeAmLBy1W00]--></g></svg>